<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Useful functions for working with the Source Linkage Files â€¢ slfhelper</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Useful functions for working with the Source Linkage Files">
<meta property="og:description" content="This package provides a few helper functions for working with the
    Source Linkage Files (SLFs). The functions are mainly focussed on making the 
    first steps of analysis easier. They can read in and filter the files in an efficient
    way using minimal syntax. If you find a bug or have any ideas for new funtions
    or improvements get in touch or submit a pull request.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">slfhelper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Moohan/slfhelper/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="slfhelper" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#slfhelper" class="anchor"></a>slfhelper</h1></div>
<p>The goal of slfhelper is to provide some easy to use functions which make working with the Source Linkage Files as painless and efficient as possible.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install slf by using the <a href="https://devtools.r-lib.org/">devtools package</a> in R:</p>
<div class="sourceCode"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"Moohan/slfhelper"</span>)</pre></div>
<p>Unless you jump through some hoops this may not work on the internal NSS network. However it should work on the <a href="http://nssrstudio.csa.scot.nhs.uk/">RStudio server</a> which this package is designed to be ran on.</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="read-a-file" class="section level3">
<h3 class="hasAnchor">
<a href="#read-a-file" class="anchor"></a>Read a file</h3>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">slfhelper</span>)

<span class="co"># Read a full file</span>
<span class="no">ep_1718</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_episode.html">read_slf_episode</a></span>(<span class="st">"1718"</span>)
<span class="no">indiv_1718</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_individual.html">read_slf_individual</a></span>(<span class="st">"1718"</span>)

<span class="co"># Read multiple years</span>
<span class="co"># This will use dplyr::bind_rows() and return the files added together as a single tibble</span>
<span class="no">episode_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_episode.html">read_slf_episode</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"1516"</span>, <span class="st">"1617"</span>, <span class="st">"1718"</span>, <span class="st">"1819"</span>))

<span class="co"># Read certain variables </span>
<span class="co"># It's much faster to choose variables like this</span>
<span class="no">indiv_1718</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_individual.html">read_slf_individual</a></span>(<span class="st">"1718"</span>, <span class="kw">columns</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"anon_chi"</span>, <span class="st">"hri_scot"</span>))

<span class="co"># Read only data for a certain partnership (HSCP_2018 code)</span>
<span class="co"># Currently only works for a single partnership</span>
<span class="no">indiv_1718</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_individual.html">read_slf_individual</a></span>(<span class="st">"1718"</span>, <span class="kw">partnership</span> <span class="kw">=</span> <span class="st">"S37000001"</span>) <span class="co"># Aberdeen City</span></pre></div>
<p>All of the above options for reading files can be combined if required.</p>
<p>There are a few data files included in the package which should be useful.</p>
<div class="sourceCode"><pre class="r"><span class="co"># Get a list of the variables in a file</span>
<span class="kw pkg">slfhelper</span><span class="kw ns">::</span><span class="no"><a href="reference/ep_file_vars.html">ep_file_vars</a></span>
<span class="kw pkg">slfhelper</span><span class="kw ns">::</span><span class="no"><a href="reference/indiv_file_vars.html">indiv_file_vars</a></span>

<span class="co"># See a lookup of Partnership names to HSCP_2018 codes</span>

<span class="no">hscp_lookup</span> <span class="kw">&lt;-</span> <span class="kw pkg">slfhelper</span><span class="kw ns">::</span><span class="no"><a href="reference/partnerships.html">partnerships</a></span></pre></div>
</div>
<div id="match-on-chi-numbers-to-anon_chi-or-vice-versa" class="section level3">
<h3 class="hasAnchor">
<a href="#match-on-chi-numbers-to-anon_chi-or-vice-versa" class="anchor"></a>Match on CHI numbers to Anon_CHI (or vice versa)</h3>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">slfhelper</span>)

<span class="co"># Add real CHI numbers to a SLF</span>
<span class="no">ep_1718</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/read_slf_episode.html">read_slf_episode</a></span>(<span class="st">"1718"</span>) <span class="kw">%&gt;%</span> <span class="fu"><a href="reference/get_chi.html">get_chi</a></span>()

<span class="co"># Add anon_chi numbers to a cohort</span>
<span class="co"># Optionaly specifiy the name of the CHI variable</span>
<span class="no">cohort</span> <span class="kw">&lt;-</span> <span class="no">cohort</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="reference/get_anon_chi.html">get_anon_chi</a></span>(<span class="kw">chi_var</span> <span class="kw">=</span> <span class="st">"upi_number"</span>)</pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Moohan/slfhelper/">https://â€‹github.com/â€‹Moohan/â€‹slfhelper/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Moohan/slfhelper/issues">https://â€‹github.com/â€‹Moohan/â€‹slfhelper/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>James McMahon <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by James McMahon.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
